<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Component type creation</title>
</head>
<body>
	<H1>Component type creation</H1>
	<p>Administrators or actors with adequate authorizations can create
		a new CT (component type) that will be used as type by the components
		created in the studio.</p>
	<h2>Nominal rules</h2>
	<p>A Component Type is uniquely identified by its id. Its name must
		be unique.
	<div class="example">
		A new CT created with<span concordion:set="#justCheck=false" /> 
		<span concordion:set="#caseName">Roundtrip </span>
		<ul>
			<li>vp id=<b concordion:set="#vpID">ertyuyreklbjnb,n</b></li>
			<li>id=<b concordion:set="#id">bis__w-CMZoWEeG71vmJ5CR-iA</b></li>
			<li>name=<b concordion:set="#name">ServicesContainer2</b></li>
			<li>description=<b concordion:set="#desc">Runs services (RMI, REST, SOAP...).</b></li>
			<li>comment=<b concordion:set="#comment">Available components listed in Technical catalog</b></li>
			<li>tags=<b concordion:set="#tags">logical,SA</b></li>
			<li>instantiation factor=<b concordion:set="#ifactor">*</b></li>
			<li>bound type id=<b concordion:set="#boundTypeID">_kHJh8ZxEEeGi7NYPtEuJdA</b></li>
			<li>references ids=<b concordion:set="#references">RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg,_ha8mEZqyEeGVMag01qc4bw</b></li>
			<li>reifiable=<b concordion:set="#reifiable">true</b></li>
			<li>enumeration=<b concordion:set="#enumeration">_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</b></li>
		</ul>
		should have following characteristics : <b
			concordion:assertEquals="createAndGetCT(#justCheck,#caseName,#vpID,#id,#name,#desc,#comment,#tags,#ifactor,#boundTypeID,#references,#enumeration,#reifiable)">
			boundTypeID=_kHJh8ZxEEeGi7NYPtEuJdA 
			comment=Available components listed in Technical catalog 
			description=Runs services (RMI, REST, SOAP...). 
			drop= 
			enumeration=[_CIvLcp6kEeGbbcMFSNIrnA, _C3DFRrfgfrfrnA] 
			id=bis__w-CMZoWEeG71vmJ5CR-iA 
			iFactor=* name=ServicesContainer2 
			references=[targets=[_1y2zQZoWEeG71vmJ5CR-iA] type=RUNS , targets=[_DAPYIZqnEeGbI4NH3iicSg, _ha8mEZqyEeGVMag01qc4bw] type=DEPENDS_ON ] 
			reifiable=true 
			tags=logical,SA 
			vpID=ertyuyreklbjnb,n </b>
	</div>
	</p>

	<h2>Bindings and instantiation factor</h2>
	<p>Instantiation factor enforces the number of possibles component
		instances for a component of a given type. A Component Type can't be
		reified if its instantiation factor is zero. From the GUI point of
		view, "any" is represented by the character "*". From the DTO, it is
		the integer '-1'.
		<div class='example'>
			<table
		concordion:execute="#result=createWithIfAndReifiable(#ifactor,#reifiable)">
				<tr>
					<th concordion:set="#ifactor">IFactor</th>
					<th concordion:set="#reifiable">Reifiable</th>
				<th concordion:assertEquals="#result">should :</th>
				</tr>
				<tr>
					<td>1</td>
					<td>true</td>
					<td>PASS</td>
				</tr>
				<tr>
					<td>*</td>
					<td>true</td>
					<td>PASS</td>
				</tr>
				<tr>
					<td>0</td>
					<td>true</td>
					<td>FAIL with code DELTA_BINDING_REIFIABLE</td>
				</tr>
				<tr>
					<td>0</td>
					<td>false</td>
					<td>PASS</td>
				</tr>
				<tr>
					<td>1</td>
					<td>false</td>
					<td>FAIL with code DELTA_BINDING_REIFIABLE</td>
				</tr>
				<tr>
					<td>*</td>
					<td>false</td>
					<td>FAIL with code DELTA_BINDING_REIFIABLE</td>
				</tr>
			</table>
		</div>
		</p>

	<p>A enumeration can contain either components or component groups.</p>
	<p>All enumeration item (component or group) must exist.</p>
	<p>All enumeration items must share the same component type.</p>
	<p>If enumeration maps a component-type group, values are those of
		its components at time of use (eg if a group maps a new component 
		after the CT creation, is will be valid.</p>
	<p>The enumeration cannot contain duplicate items. An enumeration cannot contain
	both a component and a group that contain it.</p>
	<p>If a bound type is given but none enumeration is provided, the
		possible values are all component of given bound type in every view of
		the bound VP.</p>
	<p>An enumeration can't be provided without associated binding type.</p>
	<p>A Component Type can't bind another component type itself
		bounded (no cascading bindings).</p>
	<p>A Component Type can't be bound to a component type of the same
		VP (no local bindings).</p>
	<p>If one of following attribute is not provided, a binded CT get
		them from the bound CT : name, tags, comment, description</p>
	<h3>Basic Controls</h3>
	<ul>
	<li>
		A null input should make service call <b
			concordion:assertEquals="getCheckNullDTO()">FAIL</b>
	</li>
	<li>ID and name can't be null, void or void once trimmed</li>
	<li>ID size can't be larger than 40 characters</li>
	<li>Name can't be larger that 200 characters</li>
	<li>Description and comment size can't be larger that 2000
		characters</li>
	<li>See Tags specifications for tags limits</li>
	</ul>
		Following service inputs against <b concordion:set="#vpID">ertyuyreklbjnb,n</b>
		viewpoint should make the service <span
			concordion:set="#justCheck=true" /> :
	<div class='example' >
	<table
		concordion:execute="#result=createAndGetCT(#justCheck,#caseName,#vpID,#id,#name,#desc,
				#comment,#tags,#ifactor,#boundTypeID,#references,#enumeration,#reifiable)">
		<tr>
			<th concordion:set="#caseName">Case</th>
			<th concordion:set="#id">ID</th>
			<th concordion:set="#name">Name</th>
			<th concordion:set="#desc">Description</th>
			<th concordion:set="#comment">Comment</th>
			<th concordion:set="#tags">Tags</th>
			<th concordion:set="#ifactor">IFactor</th>
			<th concordion:set="#boundTypeID">BoundID</th>
			<th concordion:set="#references">References</th>
			<th concordion:set="#enumeration">Enumeration</th>
			<th concordion:set="#reifiable">Reifiable</th>
			<th concordion:assertEquals="#result">should :</th>
		</tr>
		<!-- Nominal -->
		<tr>
			<td>Nominal creation</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg,_ha8mEZqyEeGVMag01qc4bw</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>PASS</td>
		</tr>
		<!-- Existing CT -->
		<tr>
			<td>Existing CT ID</td>
			<td>__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code DUPLICATES</td>
		</tr>
		<tr>
			<td>Existing CT name</td>
			<td>bisee__w-CMZoWEeCR-iA</td>
			<td>ServicesContainer</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code DUPLICATE_NAME</td>
		</tr>
		<!-- ID checks -->
		<tr>
			<td>Null CT ID</td>
			<td>null</td>
			<td>ServicesContainer</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code NULL_ARGUMENT</td>
		</tr>
		<tr>
			<td>Void CT ID</td>
			<td></td>
			<td>ServicesContainer</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code NULL_ARGUMENT</td>
		</tr>
		<tr>
			<td>Void CT ID after trim</td>
			<td>space</td>
			<td>ServicesContainer</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code NULL_ARGUMENT</td>
		</tr>
		<!-- name check -->
		<tr>
			<td>Null CT name</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>null</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>PASS</td>
		</tr>
		<tr>
			<td>Void CT name</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td></td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code NULL_ARGUMENT</td>
		</tr>
		<tr>
			<td>Void CT name after trim</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>space</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code NULL_ARGUMENT</td>
		</tr>
	
		<!-- Comment -->
		<tr>
			<td>Null comment</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>null</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>PASS</td>
		</tr>
		<!-- References -->
		<tr>
			<td>Unexisting reference</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>null</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>_kHJh8ZxEEeGi7NYPtEuJdA</td>
			<td>RUNS:foo;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code TARGET_NOT_FOUND</td>
		</tr>
		<!-- Bound type -->
		<tr>
			<td>Null boundtype</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>null</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>null</td>
			<td>DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg</td>
			<td></td>
			<td>true</td>
			<td>PASS</td>
		</tr>
		<tr>
			<td>Unexisting boundtype</td>
			<td>bis__w-CMZoWEeG71vmJ5CR-iA</td>
			<td>ServicesContainer2</td>
			<td>Runs services (RMI, REST, SOAP...).</td>
			<td>comment2</td>
			<td>tags1,tag2</td>
			<td>*</td>
			<td>foo_ct</td>
			<td>RUNS:_1y2zQZoWEeG71vmJ5CR-iA;DEPENDS_ON:_DAPYIZqnEeGbI4NH3iicSg,_ha8mEZqyEeGVMag01qc4bw</td>
			<td>_CIvLcp6kEeGbbcMFSNIrnA,_C3DFRrfgfrfrnA</td>
			<td>true</td>
			<td>FAIL with code TARGET_NOT_FOUND</td>
		</tr>
	</table>
	</div>	
</body>
</html>